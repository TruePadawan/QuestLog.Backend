import{r as a,u as T,j as s,N as B,O as I}from"./index-BM71IHYH.js";import{L as V}from"./logo-BIfEBSO-.js";import{B as l}from"./Button-DjVsqX09.js";import{t as c}from"./IconoirContext-DnFuTd40.js";import{L as W}from"./Loader-xl498cTG.js";import{u as H}from"./useAuth-BrmHBAwv.js";import{u as Z}from"./useQuery-Bo-X5PFM.js";import{g as U}from"./quest.api-JQDOGfAe.js";import"./utils-Dhn_WXxr.js";import"./auth.api-BD3ZayB1.js";var G=Object.defineProperty,w=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,L=(t,e,r)=>e in t?G(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,f=(t,e)=>{for(var r in e||(e={}))_.call(e,r)&&L(t,r,e[r]);if(w)for(var r of w(e))z.call(e,r)&&L(t,r,e[r]);return t};const F=(t,e)=>{const r=a.useContext(c),n=f(f({},r),t);return a.createElement("svg",f({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:e},n),a.createElement("path",{d:"M3 20.4V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4Z",stroke:"currentColor"}),a.createElement("path",{d:"M7 12.5L10 15.5L17 8.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},K=a.forwardRef(F);var C=K,D=Object.defineProperty,N=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,k=(t,e,r)=>e in t?D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,x=(t,e)=>{for(var r in e||(e={}))J.call(e,r)&&k(t,r,e[r]);if(N)for(var r of N(e))X.call(e,r)&&k(t,r,e[r]);return t};const Y=(t,e)=>{const r=a.useContext(c),n=x(x({},r),t);return a.createElement("svg",x({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:e},n),a.createElement("path",{d:"M2.57331 8.46334L11.2317 4.13416C11.4006 4.04971 11.5994 4.04971 11.7683 4.13416L20.4267 8.46334C20.8689 8.68446 20.8689 9.31554 20.4267 9.53666L11.7683 13.8658C11.5994 13.9503 11.4006 13.9503 11.2317 13.8658L2.57331 9.53666C2.13108 9.31554 2.13108 8.68446 2.57331 8.46334Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M22.5 13L22.5 9.5L20.5 8.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M4.5 10.5V15.9121C4.5 16.6843 4.94459 17.3876 5.6422 17.7188L10.6422 20.0928C11.185 20.3505 11.815 20.3505 12.3578 20.0928L17.3578 17.7188C18.0554 17.3876 18.5 16.6843 18.5 15.9121V10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},ee=a.forwardRef(Y);var O=ee,re=Object.defineProperty,$=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,E=(t,e,r)=>e in t?re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,v=(t,e)=>{for(var r in e||(e={}))te.call(e,r)&&E(t,r,e[r]);if($)for(var r of $(e))se.call(e,r)&&E(t,r,e[r]);return t};const ae=(t,e)=>{const r=a.useContext(c),n=v(v({},r),t);return a.createElement("svg",v({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:e},n),a.createElement("path",{d:"M10 3L6 21",stroke:"currentColor",strokeLinecap:"round"}),a.createElement("path",{d:"M20.5 16H2.5",stroke:"currentColor",strokeLinecap:"round"}),a.createElement("path",{d:"M22 7H4",stroke:"currentColor",strokeLinecap:"round"}),a.createElement("path",{d:"M18 3L14 21",stroke:"currentColor",strokeLinecap:"round"}))},ne=a.forwardRef(ae);var oe=ne,le=Object.defineProperty,M=Object.getOwnPropertySymbols,ie=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,S=(t,e,r)=>e in t?le(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,g=(t,e)=>{for(var r in e||(e={}))ie.call(e,r)&&S(t,r,e[r]);if(M)for(var r of M(e))ce.call(e,r)&&S(t,r,e[r]);return t};const de=(t,e)=>{const r=a.useContext(c),n=g(g({},r),t);return a.createElement("svg",g({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:e},n),a.createElement("path",{d:"M5 18L3.13036 4.91253C3.05646 4.39524 3.39389 3.91247 3.90398 3.79912L11.5661 2.09641C11.8519 2.03291 12.1481 2.03291 12.4339 2.09641L20.096 3.79912C20.6061 3.91247 20.9435 4.39524 20.8696 4.91252L19 18C18.9293 18.495 18.5 21.5 12 21.5C5.5 21.5 5.07071 18.495 5 18Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},me=a.forwardRef(de);var P=me,pe=Object.defineProperty,q=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,A=(t,e,r)=>e in t?pe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,y=(t,e)=>{for(var r in e||(e={}))ue.call(e,r)&&A(t,r,e[r]);if(q)for(var r of q(e))he.call(e,r)&&A(t,r,e[r]);return t};const fe=(t,e)=>{const r=a.useContext(c),n=y(y({},r),t);return a.createElement("svg",y({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:e},n),a.createElement("path",{d:"M10.0503 10.6066L2.97923 17.6777C2.19818 18.4587 2.19818 19.7251 2.97923 20.5061V20.5061C3.76027 21.2872 5.0266 21.2872 5.80765 20.5061L12.8787 13.4351",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M17.1927 13.7994L21.071 17.6777C21.8521 18.4587 21.8521 19.7251 21.071 20.5061V20.5061C20.29 21.2872 19.0236 21.2872 18.2426 20.5061L12.0341 14.2977",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M6.73267 5.90381L4.61135 6.61092L2.49003 3.07539L3.90424 1.66117L7.43978 3.78249L6.73267 5.90381ZM6.73267 5.90381L9.5629 8.73404",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.0503 10.6066C9.2065 8.45359 9.37147 5.62861 11.111 3.8891C12.8505 2.14958 16.0607 1.76778 17.8285 2.82844L14.7878 5.86911L14.5052 8.98015L17.6162 8.69754L20.6569 5.65686C21.7176 7.42463 21.3358 10.6349 19.5963 12.3744C17.8567 14.1139 15.0318 14.2789 12.8788 13.435",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},xe=a.forwardRef(fe);var R=xe;function Oe(){const{isAuthenticated:t,isLoadingAuthState:e,user:r}=H(),n=T({select:o=>o.location.pathname}),d=o=>n===o||n.startsWith(`${o}/`),m=d("/dashboard/main-quest"),p=d("/dashboard/side-quests"),u=d("/dashboard/tutorials"),h=d("/dashboard/completed"),i="py-3 flex items-center justify-center gap-x-0 lg:gap-x-3 lg:justify-start shadow-none",{data:j}=Z({queryKey:["quests","all"],queryFn:()=>U({}),enabled:t}),b=j?[...new Set(j.flatMap(o=>o.tags))].sort():[],Q=n.startsWith("/dashboard/tags/")?decodeURIComponent(n.split("/dashboard/tags/")[1]):null;return!t&&!e?s.jsx(B,{to:"/auth/login",replace:!0}):s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsxs("header",{className:"flex items-center justify-between px-4 py-3 sm:px-6 lg:px-8 border-b-4 border-border-primary bg-bg-primary",children:[s.jsxs("a",{className:"flex gap-x-2 sm:gap-x-3 items-center",href:"/",children:[s.jsx("img",{className:"h-6 w-6 sm:h-7 sm:w-7 lg:h-8 lg:w-8",src:V,alt:"logo"}),s.jsx("span",{className:"text-white font-primary text-xl sm:text-2xl lg:text-3xl leading-none",children:"QUESTLOG"})]}),s.jsx("a",{className:"flex gap-x-2 items-center",href:"/profile",children:s.jsxs("div",{className:"flex flex-col gap-y-0.5 items-end font-secondary font-bold",children:[s.jsx("span",{className:"text-red-400 text-[0.625rem] sm:text-xs",children:r?.tier}),s.jsx("span",{className:"text-white text-xs sm:text-sm",children:r?.characterName})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[72px_1fr] lg:grid-cols-[280px_1fr] grow pb-20 md:pb-0",children:[s.jsxs("div",{className:"hidden md:flex lg:p-4 border-r-4 border-border-primary flex-col gap-y-8",children:[s.jsxs("div",{className:"flex flex-col gap-y-4 font-secondary",children:[s.jsx("span",{className:"text-accent-amber font-medium hidden lg:inline",children:"ACTIVE QUESTS"}),s.jsxs("div",{className:"flex flex-col gap-y-4",children:[s.jsxs(l,{variant:m?"filled":"clean",href:"/dashboard/main-quest","aria-current":m?"page":void 0,className:i,children:[s.jsx(P,{}),s.jsx("span",{className:"sr-only lg:not-sr-only",children:"Main Quests"})]}),s.jsxs(l,{variant:p?"filled":"clean",href:"/dashboard/side-quests","aria-current":p?"page":void 0,className:i,children:[s.jsx(R,{}),s.jsx("span",{className:"sr-only lg:not-sr-only",children:"Side Quests"})]}),s.jsxs(l,{variant:u?"filled":"clean",href:"/dashboard/tutorials","aria-current":u?"page":void 0,className:i,children:[s.jsx(O,{}),s.jsx("span",{className:"sr-only lg:not-sr-only",children:"Tutorials"})]}),s.jsxs(l,{variant:h?"filled":"clean",href:"/dashboard/completed","aria-current":h?"page":void 0,className:i,children:[s.jsx(C,{}),s.jsx("span",{className:"sr-only lg:not-sr-only",children:"Completed"})]})]})]}),s.jsxs("div",{className:"hidden lg:flex flex-col gap-y-4 font-secondary",children:[s.jsx("span",{className:"text-accent-cyan font-medium",children:"TAGS"}),s.jsx("div",{className:"flex flex-col gap-y-4",children:b.length>0?b.map(o=>s.jsxs(l,{variant:Q===o?"filled":"clean",href:`/dashboard/tags/${o}`,className:i,children:[s.jsx(oe,{}),s.jsx("span",{children:o})]},o)):s.jsx("span",{className:"text-gray-600 text-sm px-1",children:"No tags yet"})})]})]}),t&&s.jsx(I,{}),!t&&e&&s.jsx("div",{className:"flex justify-center items-center",children:s.jsx(W,{})})]}),t&&s.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-20 border-t-4 border-border-primary bg-bg-secondary",children:s.jsxs("div",{className:"grid grid-cols-4",children:[s.jsxs(l,{variant:"clean",href:"/dashboard/main-quest","aria-current":m?"page":void 0,className:"py-3 flex items-center justify-center",style:m?{color:"var(--color-primary-green)"}:void 0,children:[s.jsx(P,{}),s.jsx("span",{className:"sr-only",children:"Main Quests"})]}),s.jsxs(l,{variant:"clean",href:"/dashboard/side-quests","aria-current":p?"page":void 0,className:"py-3 flex items-center justify-center",style:p?{color:"var(--color-primary-green)"}:void 0,children:[s.jsx(R,{}),s.jsx("span",{className:"sr-only",children:"Side Quests"})]}),s.jsxs(l,{variant:"clean",href:"/dashboard/tutorials","aria-current":u?"page":void 0,className:"py-3 flex items-center justify-center",style:u?{color:"var(--color-primary-green)"}:void 0,children:[s.jsx(O,{}),s.jsx("span",{className:"sr-only",children:"Tutorials"})]}),s.jsxs(l,{variant:"clean",href:"/dashboard/completed","aria-current":h?"page":void 0,className:"py-3 flex items-center justify-center",style:h?{color:"var(--color-primary-green)"}:void 0,children:[s.jsx(C,{}),s.jsx("span",{className:"sr-only",children:"Completed"})]})]})})]})}export{Oe as component};
