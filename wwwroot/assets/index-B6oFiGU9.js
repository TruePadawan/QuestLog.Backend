import{r as o,b as v,j as e,t as C}from"./index-BM71IHYH.js";import{L as N}from"./logo-BIfEBSO-.js";import{t as b}from"./IconoirContext-DnFuTd40.js";import{F as E}from"./FormInputField-Xka4Ls7u.js";import{B as m}from"./Button-DjVsqX09.js";import{u as w}from"./useQuery-Bo-X5PFM.js";import{u as L,c as O,g as R}from"./useAuth-BrmHBAwv.js";import{L as S}from"./Loader-xl498cTG.js";import{g as k}from"./utils-Dhn_WXxr.js";import{O as A,S as q}from"./Select-C4e6SRbX.js";import"./auth.api-BD3ZayB1.js";var F=Object.defineProperty,u=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,p=(a,r,t)=>r in a?F(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,c=(a,r)=>{for(var t in r||(r={}))T.call(r,t)&&p(a,t,r[t]);if(u)for(var t of u(r))D.call(r,t)&&p(a,t,r[t]);return a};const I=(a,r)=>{const t=o.useContext(b),n=c(c({},t),a);return o.createElement("svg",c({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:r},n),o.createElement("path",{d:"M5 20V19C5 15.134 8.13401 12 12 12V12C15.866 12 19 15.134 19 19V20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M12 12C14.2091 12 16 10.2091 16 8C16 5.79086 14.2091 4 12 4C9.79086 4 8 5.79086 8 8C8 10.2091 9.79086 12 12 12Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},V=o.forwardRef(I);var B=V;function J(){const{data:a,isLoading:r}=w({queryKey:["characterClass"],queryFn:R}),{logOut:t}=L(),[n,i]=o.useState(!1),d=v();async function f(s){s.preventDefault();const l=new FormData(s.currentTarget),h=l.get("heroName"),g=l.get("class");i(!0);try{await O({characterName:h,characterClass:g}),await d({to:"/dashboard/main-quest"})}catch(y){const j=k(y)?.data;C(j.message)}finally{i(!1)}}if(r)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(S,{})});if(a===void 0)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("p",{className:"text-primary-green",children:"Error fetching character classes"})});const x=a.map(({name:s})=>e.jsx(A,{value:s,children:s.toUpperCase()},s));return e.jsxs("main",{className:"flex flex-col gap-y-6 justify-center items-center min-h-screen py-2 px-2",children:[e.jsx("a",{href:"/",children:e.jsx("img",{src:N,alt:"logo"})}),e.jsxs("div",{className:"flex flex-col items-center gap-y-2 text-center",children:[e.jsx("h1",{className:"font-primary text-4xl font-bold text-white",children:"CREATE NEW HERO"}),e.jsx("p",{className:"font-secondary text-sm text-primary-green font-medium",children:"[ Initialize a new adventure log sequence ]"})]}),e.jsxs("form",{onSubmit:f,className:"form",children:[e.jsx(E,{id:"heroName",name:"heroName",label:"HERO NAME",icon:e.jsx(B,{color:"gray"}),placeholder:"Sir Lancelot",required:!0}),e.jsxs("div",{className:"flex flex-col items-stretch gap-y-2 font-primary text-xs",children:[e.jsx("label",{htmlFor:"class",className:"text-primary-green",children:"CLASS"}),e.jsx(q,{id:"class",name:"class",required:!0,children:x})]}),e.jsx(m,{type:"submit",variant:"filled",className:"py-3",children:"START ADVENTURE"}),e.jsx("span",{className:"text-gray-400 text-center",children:"- OR -"}),e.jsx(m,{type:"button",variant:"outline",color:"red",className:"py-3",onClick:()=>t(),disabled:n,children:"Logout"})]})]})}export{J as component};
